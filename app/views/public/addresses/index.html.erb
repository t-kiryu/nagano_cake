<div>
  <p id="notice"><%= flash[:notice] %></p>

  <div>
    <h5>配送先登録 / 一覧</h5>
  </div>

  <% if @address.errors.any? %>
    <%= @address.errors.count %>件のエラーが発生しました
    <ul>
      <% @address.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  <% end %>

  <div>
    <%= form_with model: @address, url: 'addresses', method: :post do |f| %>
      <table>
        <tr>
          <td><%= f.label :"郵便番号(ハイフンなし)" %></td>
          <td><%= f.text_field :postal_code %></td>
        </tr>
        <tr>
          <td><%= f.label :住所 %></td>
          <td><%= f.text_field :address %></td>
        </tr>
        <tr>
          <td><%= f.label :宛名 %></td>
          <td><%= f.text_field :name %></td>
          <td><%= f.submit "新規登録", class:"btn btn-success btn-sm" %></td>
        </tr>
      </table>
    <% end %>
  </div>
  <div>
    <table>
      <thead>
        <tr>
          <td>郵便番号</td>
          <td>住所</td>
          <td>宛名</td>
          <td></td>
        </tr>
      </thead>
      <tbody>
        <% @addresses.each do |address| %>
        <tr>
          <td><%= address.postal_code %></td>
          <td><%= address.address %></td>
          <td><%= address.name %></td>
          <td>
            <%= link_to "編集する", edit_address_path(address.id), class:"btn btn-success btn-sm" %>
            <%= link_to "削除する", address_path(address.id), method: :delete, class:"btn btn-danger btn-sm" %>
          </td>
        </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>